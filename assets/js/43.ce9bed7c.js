(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{499:function(s,a,t){"use strict";t.r(a);var e=t(29),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[toc]")]),s._v(" "),t("h1",{attrs:{id:"compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compose"}},[s._v("#")]),s._v(" compose")]),s._v(" "),t("h2",{attrs:{id:"v2版本安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v2版本安装"}},[s._v("#")]),s._v(" v2版本安装")]),s._v(" "),t("p",[s._v("v2版本的compose加入了docker-cli，执行命令时不需要加"),t("code",[s._v("-")]),s._v("，如：")]),s._v(" "),t("ul",[t("li",[s._v("v1："),t("code",[s._v("docker-compose up")])]),s._v(" "),t("li",[s._v("v2："),t("code",[s._v("docker compose up")])])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/docker/compose/releases/download/v2.4.1/docker-compose-linux-x86_64\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" docker-compose-linux-x86_64 /usr/local/lib/docker/cli-plugins/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/lib/docker/cli-plugins/docker-compose\n")])])]),t("h2",{attrs:{id:"v1版本安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v1版本安装"}},[s._v("#")]),s._v(" v1版本安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L https://github.com/docker/compose/releases/download/1.21.2/docker-compose-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -s"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -m"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" -o /usr/local/bin/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-compose\n")])])]),t("h2",{attrs:{id:"快速使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速使用"}},[s._v("#")]),s._v(" 快速使用")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("打包项目获得jar包")])]),s._v(" "),t("li",[t("p",[s._v("在jar包路径上新建DockerFile文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("FROM java:8\nVOLUME /tmp\nADD docker-demo-0.0.1-SNAPSHOT.jar app.jar\nRUN "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'touch /app.jar'")]),s._v("\nEXPOSE "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("\nENTRYPOINT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Djava.security.egd=file:/dev/./urandom"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-jar"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.jar"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("在jar包路径上创建compose.yml文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("version: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.9'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示该 Docker-Compose 文件使用的是 Version 2 file")]),s._v("\nservices:\n  docker-demo:  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定服务名称")]),s._v("\n    build: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 Dockerfile 所在路径")]),s._v("\n    ports:    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定端口映射")]),s._v("\n      - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9000:8761"')]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("在compose.yml所在路径上执行命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker compose up -d #后台启动\n")])])])])]),s._v(" "),t("h2",{attrs:{id:"结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构"}},[s._v("#")]),s._v(" 结构")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("Docker Compose 将所管理的容器分为三层，分别是工程（project）、服务（service）、容器（container）")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Docker Compose 运行目录下的所有文件（docker-compose.yml）组成一个工程,一个工程包含多个服务，每个服务中定义了容器运行的镜像、参数、依赖，一个服务可包括多个容器实例")])])])]),s._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("ps")]),s._v("：列出正在运行的容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("logs")]),s._v("：查看服务日志输出")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose logs\t\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("port")]),s._v("：显示服务绑定的端口")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" port eureka "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8761")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("build")]),s._v("：构建服务")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose build\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("start")]),s._v("：启动指定服务")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose start eureka\t\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("stop")]),s._v("：停止指定服务")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose stop eureka\t\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("rm")]),s._v("：删除指定服务的容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" eureka\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("up")]),s._v("：构建、启动容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose up\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose up -d "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#后台启动运行")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("kill")]),s._v("：通过发送 SIGKILL 信号来停止指定服务的容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" eureka\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("run")]),s._v("：在一个服务上执行一个命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose run web "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])])])]),s._v(" "),t("h2",{attrs:{id:"yaml文件属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yaml文件属性"}},[s._v("#")]),s._v(" yaml文件属性")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("version")]),s._v("：指定yaml文件版本，与docker版本对应")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("services")]),s._v("：多个容器的集合")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("build")]),s._v("：配置构建时，Compose 会利用它自动构建镜像，该值可以是一个路径，也可以是一个对象，用于指定 Dockerfile 参数")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ./dir\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("context")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ./dir\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dockerfile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Dockerfile\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("args")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("buildno")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("command")]),s._v("：覆盖容器启动后默认执行的命令")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("dns")]),s._v("：配置dns服务器，可以是一个值或者列表")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dns")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 8.8.8.8\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dns")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 8.8.8.8\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 9.9.9.9\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("dns_search")]),s._v("：DNS 搜索域，可以是一个值或列表")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dns_search")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" example.com\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dns_search")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" dc1.example.com\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" dc2.example.com\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("environment")]),s._v("：环境变量配置，可以用数组或字典两种方式")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("RACK_ENV")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" development\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SHOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ture'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" RACK_ENV=development\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" SHOW=ture\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("env_file")]),s._v("：从文件中获取环境变量，可以指定一个文件路径或路径列表，其优先级低于 environment 指定的环境变量")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" .env\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./common.env\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("expose")]),s._v("：暴露端口，只将端口暴露给连接的服务，而不暴露给主机")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expose")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3000"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8000"')]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("image")]),s._v("：指定服务所使用的镜像")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" java\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("network_mode")]),s._v("：设置网络模式")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bridge"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"none"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service:[service name]"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"container:[container name/id]"')]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("ports")]),s._v("：对外暴露的端口定义，和 expose 对应")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 暴露端口信息  - "宿主机端口:容器暴露端口"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8763:8763"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8763:8763"')]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("links")]),s._v("：将指定容器连接到当前连接，可以设置别名，避免ip方式导致的容器重启动态改变的无法连接情况")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("links")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定服务名称:别名 ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" docker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("compose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("eureka"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("compose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("eureka\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("volumes")]),s._v("：卷挂载路径")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /lib\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /var\n")])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("logs")]),s._v("：日志输出信息")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("no"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("color          单色输出，不显示其他颜.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("follow        跟踪日志输出，就是可以实时查看日志\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("timestamps    显示时间戳\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tail              从日志的结尾显示，"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tail=200\n")])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);