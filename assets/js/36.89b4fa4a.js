(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{490:function(t,a,o){"use strict";o.r(a);var l=o(29),i=Object(l.a)({},(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"生成ssl证书"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#生成ssl证书"}},[t._v("#")]),t._v(" 生成SSL证书")]),t._v(" "),o("ol",[o("li",[o("p",[t._v("生成根证书")]),t._v(" "),o("p",[o("code",[t._v("keytool -genkeypair -alias rootCiallo -keyalg RSA")])]),t._v(" "),o("p",[o("img",{attrs:{src:"https://ciallo-1257179806.cos.ap-shanghai.myqcloud.com/image-20220412152237353.png",alt:"image-20220412152237353"}})])])]),t._v(" "),o("p",[t._v("使用"),o("code",[t._v("keytool.exe -list -v")]),t._v("查看密钥库")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://ciallo-1257179806.cos.ap-shanghai.myqcloud.com/image-20220412152331904.png",alt:"image-20220412152331904"}}),t._v(" "),o("p",[t._v("可以看到所有者和发布者相同，这种证书称为自签名证书，CA的根证书都是自签名证书")]),t._v(" "),o("ol",{attrs:{start:"2"}},[o("li",[t._v("再生成一个自签名证书，然后用第一个整数去签名这个证书")])]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://ciallo-1257179806.cos.ap-shanghai.myqcloud.com/image-20220412152526187.png",alt:"image-20220412152526187"}}),t._v(" "),o("ol",{attrs:{start:"3"}},[o("li",[t._v("使用第一个证书去签名第二个证书")])]),t._v(" "),o("p",[t._v("首先用第二个自签名证书去生成一个证书请求")]),t._v(" "),o("p",[o("code",[t._v("keytool -certreq -alias Kiro -file kiro.csr")])]),t._v(" "),o("p",[t._v("然后用这个kiro.csr文件，去找第一个证书进行签名")]),t._v(" "),o("p",[o("code",[t._v("keytool -gencert -alias rootCiallo -infile kiro.csr -outfile kiro.cer")])]),t._v(" "),o("p",[t._v("kiro.cer就是经过认证后的证书了，将这个证书导入密钥库")]),t._v(" "),o("p",[o("code",[t._v("keytool -importcert -alias kiro -file kiro.cer")])]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://ciallo-1257179806.cos.ap-shanghai.myqcloud.com/image-20220412153425341.png",alt:"image-20220412153425341"}}),t._v(" "),o("p",[t._v("可以看到这个证书的所有者和发布者已经不一样了")]),t._v(" "),o("p",[t._v("导入的密钥库必须是之前生成证书请求的密钥库，并且alias也要和之前一样。因为证书只包含公钥，而私钥在密钥库，所以必须导入之前生成证书请求的密钥库，并且alias必须和之前相同，这样才知道这个证书属于哪个别名")])])}),[],!1,null,null,null);a.default=i.exports}}]);