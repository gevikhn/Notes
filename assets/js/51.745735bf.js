(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{504:function(t,s,e){"use strict";e.r(s);var a=e(29),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("[toc]")]),t._v(" "),e("h1",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),e("h2",{attrs:{id:"重新k8s初始化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重新k8s初始化"}},[t._v("#")]),t._v(" 重新k8s初始化")]),t._v(" "),e("p",[t._v("1、移除所有工作节点")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("kubectl delete "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("node")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("2、所有工作节点删除工作目录，并重置kubeadm")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /etc/kubernetes/*\nkubeadm reset\n")])])]),e("p",[t._v("3、Master节点删除工作目录，并重置kubeadm")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /etc/kubernetes/*\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf ~/.kube/*\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/lib/etcd/*\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/lib/cni/\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -fr /etc/cni/net.d\n\nkubeadm reset -f\n")])])]),e("p",[t._v("4、重新init kubernetes")]),t._v(" "),e("h2",{attrs:{id:"dns子域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns子域名"}},[t._v("#")]),t._v(" DNS子域名")]),t._v(" "),e("p",[t._v("很多资源类型需要可以用作 DNS 子域名的名称。 DNS 子域名的定义可参见 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc1123",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 1123"),e("OutboundLink")],1),t._v("。 这一要求意味着名称必须满足如下规则：")]),t._v(" "),e("ul",[e("li",[t._v("不能超过253个字符")]),t._v(" "),e("li",[t._v("只能包含小写字母、数字，以及'-' 和 '.'")]),t._v(" "),e("li",[t._v("须以字母数字开头")]),t._v(" "),e("li",[t._v("须以字母数字结尾")])])])}),[],!1,null,null,null);s.default=n.exports}}]);